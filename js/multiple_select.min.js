!function(t){t.fn.multipleSelect=function(){var e="",i=this.attr("name"),l=this.css("width"),p=[];t("option",this).each(function(){var l="";if(t(this).hasClass("placeholder"))return e=t(this).text(),!0;var c=t(this).attr("selected");"undefined"!=typeof c&&c!==!1&&(l="checked='checked'");var s=t(this).attr("value"),n=t(this).text(),a={textLen:n.length,element:t("<label><input type='checkbox' name='"+i+"' value='"+s+"' "+l+">"+n+"</label>")};p.push(a)}),this.after("<div class='multipleSelectOptionsWrapper'><div class='placeholder'>"+e+"</div><div class='multipleSelectOptions'></div></div>");var c=void 0!==this.attr("width")?this.attr("width"):10;for(var s in p)if(t(".multipleSelectOptions").append(p[s].element),p[s].textLen>c)var c=p[s].textLen;t(".multipleSelectOptionsWrapper").css({width:l}),t(".multipleSelectOptions").css({width:9*c+"px"}),t(".multipleSelectOptionsWrapper .placeholder").click(function(){t(".multipleSelectOptions").toggle()}),t(document).click(function(){t(".multipleSelectOptions").hide()}),t(".multipleSelectOptionsWrapper, .placeholder, .multipleSelectOptions").click(function(t){t.stopPropagation()}),this.hide().attr("disabled","disabled")}}(jQuery);
